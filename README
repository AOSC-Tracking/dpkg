dpkg functional test-suite
~~~~~~~~~~~~~~~~~~~~~~~~~~

How to run
----------

There's a brief usage information when invoking “make” on the topdir.

The DPKG_TESTSUITE_OPTIONS environment/make variable can be used to change
the behaviour of the test runs, the following options are currently
supported:

* test-all

  This runs all tests, including manual and failing ones.

* local-db

  This uses a local database, which speeds greatly the runs, but requires
  1.16.0.

The configuration file ‘.pkg-tests.conf’ can be used to set permanent
parameters. For example:

  ,-- .pkg-tests.conf --
  |DPKG_TESTSUITE_OPTIONS := local-db
  `--

Test-suite layout
-----------------

The tests are split into logical units, testing a specific characteristic.
To add a new test please check Test.mk and Makefile on the topdir, and some
of the current tests. Patches welcome!

Future plans
------------

There's lots of tests that are still missing, we are adding new ones when
we stumble over regressions, when adding new functionality, and as time
permits for existing functionality.

The idea is for this to eventually be merged into the dpkg git repository
and be run as part of “make check”. Some changes to dpkg would need to be
implemented first.
